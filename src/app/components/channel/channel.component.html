<div
    class="card"
    fxLayout="row"
    fxLayoutAlign="start center"
    fxLayoutGap="25px"
    (click)="select.emit(true)"
>
    <div class="icon-box" fxLayout="column" fxLayoutAlign="center center">
        <mat-icon
            class="icon-box__icon"
            svgIcon="channel"
            aria-hidden="true"
        ></mat-icon>
    </div>
    <div class="channel" fxLayout="row" fxLayoutAlign="start center" fxFlex>
        <div
            *ngIf="!selected; else actions"
            fxLayout="row"
            fxLayoutAlign="start center"
            [@flyInOutLeft]="'in'"
            fxFlex
        >
            <div
                class="info"
                fxLayout="column"
                fxLayoutAlign="space-between start"
            >
                <span>
                    <span [matTooltip]="channel.userToken.name">{{
                        channel.userToken.symbol
                    }}</span>
                    channel with {{ addressLabel(channel.partner_address) }}
                    {{ channel.partner_address }}
                </span>
                <span>
                    Balance: 
                    <ng-container *ngIf="!channel.depositPending; else deposit_pending">
                        <span
                            *ngIf="
                                (channel.balance
                                    | decimal: channel.userToken.decimals) as balance
                            "
                            [matTooltip]="
                                (balance | displayDecimals: 3) === balance
                                    ? ''
                                    : balance
                            "
                            >{{ balance | displayDecimals: 3 }}
                            {{ channel.userToken.symbol }}
                        </span>
                    </ng-container>
                    <ng-template #deposit_pending>
                        awaiting
                    </ng-template>
                </span>
            </div>
            <div fxFlex="1 1 auto"></div>
            <mat-icon
                class="card__go-icon"
                svgIcon="go"
                aria-hidden="true"
            ></mat-icon>
        </div>
        <ng-template #actions>
            <app-channel-actions [channel]="channel" [@flyInOut]="'in'">
            </app-channel-actions>
        </ng-template>
    </div>
</div>
